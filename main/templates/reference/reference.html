# extends 'base_doc.html'
# import 'macro/utils.html' as utils

# block content_doc
  <div class="row">
    <div class="col-md-3 hide">
      <div class="docs-sidebar">
        <ul class="nav nav-list docs-sidenav">
          # for section in config.REFERENCE
            <li>
              <a href="{{'#'}}{{section[0]}}">
                {{section[1]}}
              </a>
            </li>
          # endfor
        </ul>
      </div>
    </div>
    <div class="col-md-12">

      # for file in config.REFERENCE
        <section id="{{file[0]}}">
          <div class="page-header">
            <h2 class="self-link">
              {{file[1]}}
              <small>{{file[2]}}</small>
              <a href="#{{file[0]}}"></a>
            </h2>
          </div>

          <div class="markdown">
            # markdown
              # include 'reference/%s/intro.md' % file[0]
            # endmarkdown
          </div>

          <dl class="reference">
            # for def in config.REFERENCE_DEF[file[0]]
              # set def_name = def[0].split('.')[0]

              # if file[0] == 'decorator'
                # set name = '@auth.%s' % (def_name)
              # elif file[0] == 'config'
                # set name = '%s.%s' % (file[0], def_name.upper())
              # else
                # set name = '%s.%s' % (file[2].split('.')[0], def_name)
              # endif
              <dt id="{{name}}" class="self-link">
                {{name}}{{def[1]}}
                <a href="#{{name}}"></a>
                {{utils.github_edit_template_link('reference/%s/%s.md' % (file[0], def_name))}}
              </dt>
              <dd>
                # if def[0].endswith('md')
                  <div class="markdown">
                    # markdown
                      # include 'reference/%s/%s.md' % (file[0], def_name)
                    # endmarkdown
                  </div>
                # else
                  # include 'reference/%s/%s.html' % (file[0], def_name)
                # endif
              </dd>
            # endfor
          </dl>
        </section>
      # endfor
    </div>
  </div>
# endblock
